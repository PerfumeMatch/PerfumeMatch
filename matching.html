<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>PerfumeMatch - Matching</title>
<style>form {
max-width: 500px;
margin: 0 auto;
background-color: #fff6f0;
padding: 30px;
border-radius: 12px;
box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

div {
margin-bottom: 20px;
text-align: left;
}

p strong {
font-size: 18px;
color: #b85c38;
}

input[type="radio"] {
margin-right: 10px;
transform: scale(1.2);
cursor: pointer;
}

button {
background-color: #b85c38;
color: white;
border: none;
padding: 12px 25px;
font-size: 16px;
border-radius: 8px;
cursor: pointer;
transition: background-color 0.3s;
}

button:hover {
background-color: #a04e2f;
}

#result {
font-size: 20px;
color: #b85c38;
}
body {
font-family: Arial, sans-serif;
background-color: #fdf6f0;
color: #333333;
text-align: center;
padding: 50px;
}

h1 {
color: #b85c38;
font-size: 48px;
margin-bottom: 20px;
}

p {
font-size: 18px;
line-height: 1.6;
max-width: 600px;
margin: 10px auto;
}
</style>
</head>
<h1>Matching PerfumeMatch</h1>
<p>Réponds à ces questions pour découvrir ton parfum parfait :</p>

<form id="quiz-form">
<!-- Les 8 questions restent les mêmes que précédemment -->
<!-- Question 1 -->
<div>
<p><strong>1. Quelle ambiance te correspond le plus ?</strong></p>
<input type="radio" name="q1" value="floral" id="q1a"><label for="q1a">Florale</label><br>
<input type="radio" name="q1" value="fruité" id="q1b"><label for="q1b">Fruité</label><br>
<input type="radio" name="q1" value="boisé" id="q1c"><label for="q1c">Boisé</label>
</div>
<!-- Question 2 à 8... -->
<!-- (Copier toutes les questions précédentes ici, inchangé) -->

<button type="button" onclick="showResult()">Voir mon parfum</button>
</form>

<p id="result" style="margin-top:30px; font-weight:bold;"></p>

<script>
// Init profils
const profils = {
"Frais Libre": 0,
"Doux Confort": 0,
"Gourmand Sensuel": 0,
"Boisé Caractère": 0,
"Intense Mystère": 0,
"Créatif·ve Libre": 0
};

// Fonction pour générer recommandations IA
function generatePerfums(resultat) {
// Prompt simplifié pour simuler l'IA (tu pourras remplacer par vraie API)
const profil = resultat.profilPrincipal;
const second = resultat.profilsSecondaires.join(", ");

// Ici tu peux remplacer par une vraie API ou modèle IA
const recommandations = {
"Frais Libre": [
{name:"Light Breeze", brand:"Maison Margiela", desc:"Fraîcheur aérienne et vivifiante."},
{name:"Green Escape", brand:"Byredo", desc:"Une balade dans la nature, légère et relaxante."},
{name:"Citrus Sky", brand:"Dior", desc:"Zeste de vitalité pour tous les jours."}
],
"Doux Confort": [
{name:"Soft Whisper", brand:"YSL", desc:"Chaleur douce et enveloppante."},
{name:"Vanilla Dream", brand:"Juliette Has A Gun", desc:"Tendre et réconfortant, parfait pour soi."},
{name:"Cashmere Touch", brand:"Maison Francis Kurkdjian", desc:"Un cocon olfactif délicat."}
],
"Gourmand Sensuel": [
{name:"Sweet Desire", brand:"Serge Lutens", desc:"Gourmand, intense et passionné."},
{name:"Amber Nights", brand:"Byredo", desc:"Chaleur et charisme pour marquer les esprits."},
{name:"Vanilla Spice", brand:"Dior", desc:"Plaisir riche et captivant."}
],
"Boisé Caractère": [
{name:"Forest Heart", brand:"Hermès", desc:"Élégant, profond et affirmé."},
{name:"Oak & Smoke", brand:"Tom Ford", desc:"Boisé intense et mystérieux."},
{name:"Cedar Legend", brand:"Maison Margiela", desc:"Force tranquille et naturel."}
],
"Intense Mystère": [
{name:"Night Whisper", brand:"Serge Lutens", desc:"Profond et magnétique, mystérieux."},
{name:"Encens Sacré", brand:"L’Artisan Parfumeur", desc:"Une aura de mystère et de contraste."},
{name:"Oriental Shadow", brand:"Byredo", desc:"Intense, envoûtant et singulier."}
],
"Créatif·ve Libre": [
{name:"Unique Twist", brand:"Juliette Has A Gun", desc:"Audacieux, original et atypique."},
{name:"Metallic Bloom", brand:"Maison Margiela", desc:"Surprenant et hors cadre."},
{name:"Green Rebel", brand:"Byredo", desc:"Curiosité et expression libre."}
]
};

// On renvoie les 3 parfums principaux du profil dominant
return recommandations[profil];
}

// Fonction pour calculer le résultat
function showResult() {
const q1 = document.querySelector('input[name="q1"]:checked')?.value;
const q2 = document.querySelector('input[name="q2"]:checked')?.value;
const q3 = document.querySelector('input[name="q3"]:checked')?.value;
const q4 = document.querySelector('input[name="q4"]:checked')?.value;
const q5 = Array.from(document.querySelectorAll('input[name="q5"]:checked')).map(i => i.value);
const q6 = document.querySelector('input[name="q6"]:checked')?.value;
const q7 = document.querySelector('input[name="q7"]:checked')?.value;
const q8 = document.querySelector('input[name="q8"]:checked')?.value;

if(!q1 || !q2 || !q3 || !q4 || !q6 || !q7 || !q8 || q5.length === 0){
alert("Réponds à toutes les questions !");
return;
}

// Reset scores
for(let p in profils) profils[p] = 0;

// SCORING (même logique que le code précédent)
// [Copier le scoring complet du code 8 questions ici]

// Trier profils
const sortedProfils = Object.entries(profils).sort((a,b) => b[1]-a[1]).map(e => e[0]);
const resultat = { profilPrincipal: sortedProfils[0], profilsSecondaires: [sortedProfils[1], sortedProfils[2]] };

// Génération parfums IA
const perfums = generatePerfums(resultat);

// Affichage
let text = `Ton profil principal : ${resultat.profilPrincipal}\n`;
text += `Profils secondaires : ${resultat.profilsSecondaires.join(", ")}\n\n`;
text += "Voici 3 parfums qui pourraient te correspondre :\n";
perfums.forEach((p,i) => {
text += `${i+1}. ${p.name} (${p.brand}) — ${p.desc}\n`;
});

document.getElementById("result").textContent = text;
}
</script>
