<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PerfumeMatch - Quiz</title>
<style>
body { font-family: Arial, sans-serif; background: linear-gradient(to right,#fdf6f0,#fff8f2); color:#333; margin:0; padding:0 20px;}
h1 { text-align:center; color:#5a2a27; margin-top:20px; }
p { text-align:center; font-size:16px; line-height:1.6; }
form { max-width:700px; margin:20px auto; background:#fff; padding:30px; border-radius:12px; box-shadow:0 6px 15px rgba(0,0,0,0.1);}
.question { margin-bottom:25px; }
.button-answer {
display:block;
width:100%;
margin:8px 0;
padding:12px;
font-size:16px;
border:none;
border-radius:8px;
background-color:#f3c6b2;
cursor:pointer;
transition: all 0.3s ease;
}
.button-answer:hover { background-color:#b84a3b; color:white; transform:scale(1.03);}
.button-answer.selected { background-color:#d05c4d; color:white;}
button#submit { margin-top:20px; background-color:#b84a3b; color:white; padding:15px 30px; font-size:18px; border:none; border-radius:8px; cursor:pointer; transition:all 0.3s ease;}
button#submit:hover { background-color:#d05c4d; transform:scale(1.05);}
#result { max-width:700px; margin:35px auto; padding:25px; border-radius:12px; opacity:0; transition: opacity 0.8s;}
.perfume-card {
display:flex; align-items:center; gap:15px; margin:15px 0; padding:15px 20px;
border-radius:12px; box-shadow:0 6px 20px rgba(0,0,0,0.1);
transform:translateY(30px); opacity:0; transition: all 0.5s ease, box-shadow 0.3s;
cursor:pointer;
}
.perfume-card.show { transform:translateY(0); opacity:1; }
.perfume-card:hover { box-shadow:0 10px 25px rgba(0,0,0,0.2); transform:translateY(-3px) scale(1.02); }
.perfume-card h3 { margin:0 0 5px 0; font-size:18px; transition: color 0.3s;}
.perfume-card:hover h3 { color:#b84a3b; }
.perfume-card p { margin:0; font-size:14px; color:#555; }
.perfume-emoji { font-size:32px; transition: transform 0.3s; }
.perfume-card:hover .perfume-emoji { transform: rotate(15deg) scale(1.2); }
</style>
</head>
<body>

<h1>Matching PerfumeMatch</h1>
<p>R√©ponds aux questions pour d√©couvrir ton parfum parfait :</p>

<form id="quiz-form">
<button type="button" id="submit">Voir mon parfum</button>
</form>

<div id="result"></div>

<script>
// ======= Donn√©es du quiz =======
const quizData = [
{question:"Quelle ambiance te correspond le plus ?", key:"q1", type:"single", options:["Florale","Fruit√©","Bois√©"]},
{question:"Quelle saison pr√©f√®res-tu ?", key:"q2", type:"single", options:["Printemps","√ât√©","Automne","Hiver"]},
{question:"Pr√©f√®res-tu les parfums l√©gers ou intenses ?", key:"q3", type:"single", options:["L√©ger","Intense"]},
{question:"√Ä quelle fr√©quence te parfumes-tu ?", key:"q4", type:"single", options:["Tous les jours","Souvent","Occasionnellement","Rarement"]},
{question:"Comment d√©crirais-tu ton caract√®re ? (max 2)", key:"q5", type:"multi", options:["Calme","Passionn√©¬∑e","Myst√©rieux¬∑se","Doux¬∑ce","Audacieux¬∑se","Ind√©pendant¬∑e"]},
{question:"Ton univers te parle le plus quand il est‚Ä¶", key:"q6", type:"single", options:["Nature / air libre","Cocooning","Nuit","√ânergie","Cr√©atif"]},
{question:"Plut√¥t parfum dit‚Ä¶", key:"q7", type:"single", options:["F√©minin","Masculin","Mixte","√áa d√©pend","Peu importe"]},
{question:"Le parfum id√©al pour toi, c‚Äôest avant tout‚Ä¶", key:"q8", type:"single", options:["Une signature","Extension de ma personnalit√©","Un plaisir personnel","Un d√©tail important","Une d√©couverte"]}
];

// Profils et couleurs
const couleurs = {
"Frais Libre":"#d0f0fd","Doux Confort":"#fde3e1","Gourmand Sensuel":"#fff0d1",
"Bois√© Caract√®re":"#e2f1d1","Intense Myst√®re":"#f0e0fd","Cr√©atif¬∑ve Libre":"#fff7d1"
};

const recommandations = {
"Frais Libre":[{emoji:"üçÉ",name:"Light Breeze",brand:"Maison Margiela",desc:"Fra√Æcheur a√©rienne et vivifiante."},{emoji:"üåø",name:"Green Escape",brand:"Byredo",desc:"Balade nature, l√©g√®re et relaxante."},{emoji:"üçã",name:"Citrus Sky",brand:"Dior",desc:"Zeste de vitalit√© pour tous les jours."}],
"Doux Confort":[{emoji:"üõãÔ∏è",name:"Soft Whisper",brand:"YSL",desc:"Chaleur douce et enveloppante."},{emoji:"üç¶",name:"Vanilla Dream",brand:"Juliette Has A Gun",desc:"Tendre et r√©confortant."},{emoji:"üß£",name:"Cashmere Touch",brand:"Maison Francis Kurkdjian",desc:"Cocon olfactif d√©licat."}],
"Gourmand Sensuel":[{emoji:"üç´",name:"Sweet Desire",brand:"Serge Lutens",desc:"Gourmand, intense et passionn√©."},{emoji:"üî•",name:"Amber Nights",brand:"Byredo",desc:"Chaleur et charisme."},{emoji:"üç™",name:"Vanilla Spice",brand:"Dior",desc:"Plaisir riche et captivant."}],
"Bois√© Caract√®re":[{emoji:"üå≤",name:"Forest Heart",brand:"Herm√®s",desc:"√âl√©gant, profond et affirm√©."},{emoji:"ü™µ",name:"Oak & Smoke",brand:"Tom Ford",desc:"Bois√© intense et myst√©rieux."},{emoji:"ü™ì",name:"Cedar Legend",brand:"Maison Margiela",desc:"Force tranquille et naturel."}],
"Intense Myst√®re":[{emoji:"üåô",name:"Night Whisper",brand:"Serge Lutens",desc:"Profond et magn√©tique, myst√©rieux."},{emoji:"üïØÔ∏è",name:"Encens Sacr√©",brand:"L‚ÄôArtisan Parfumeur",desc:"Aura de myst√®re."},{emoji:"üñ§",name:"Oriental Shadow",brand:"Byredo",desc:"Intense et envo√ªtant."}],
"Cr√©atif¬∑ve Libre":[{emoji:"üé®",name:"Unique Twist",brand:"Juliette Has A Gun",desc:"Audacieux, original et atypique."},{emoji:"‚ú®",name:"Metallic Bloom",brand:"Maison Margiela",desc:"Surprenant et hors cadre."},{emoji:"üåà",name:"Green Rebel",brand:"Byredo",desc:"Curiosit√© et expression libre."}]
};

// ======= G√©n√©ration automatique des questions =======
const form = document.getElementById('quiz-form');
quizData.forEach(q=>{
const div = document.createElement('div');
div.className='question';
div.dataset.question=q.key;

const p = document.createElement('p');
p.textContent=q.question;
div.appendChild(p);

q.options.forEach(opt=>{
const btn = document.createElement('button');
btn.type='button';
btn.className='button-answer';
btn.dataset.value=opt;
btn.textContent=opt;
div.appendChild(btn);
});

form.insertBefore(div, document.getElementById('submit'));
});

// ======= Gestion s√©lection boutons =======
document.querySelectorAll('.question').forEach(q=>{
const buttons = q.querySelectorAll('.button-answer');
buttons.forEach(btn=>{
btn.addEventListener('click', ()=>{
if(q.dataset.question==="q5"){ // multi max 2
btn.classList.toggle('selected');
const selected = q.querySelectorAll('.button-answer.selected');
if(selected.length>2) btn.classList.remove('selected');
} else {
buttons.forEach(b=>b.classList.remove('selected'));
btn.classList.add('selected');
}
});
});
});

// ======= Calcul profil et affichage =======
document.getElementById('submit').addEventListener('click', ()=>{
const answers = {};
for(const q of quizData){
const sel = q.type==="multi" ?
Array.from(document.querySelector(`[data-question="${q.key}"]`).querySelectorAll('.button-answer.selected')).map(b=>b.dataset.value)
: Array.from(document.querySelector(`[data-question="${q.key}"]`).querySelectorAll('.button-answer.selected')).map(b=>b.dataset.value)[0];

if(!sel || (Array.isArray(sel) && sel.length===0)){ alert("R√©ponds √† toutes les questions !"); return; }
answers[q.key] = sel;
}

// ======= Scoring =======
const profils = {"Frais Libre":0,"Doux Confort":0,"Gourmand Sensuel":0,"Bois√© Caract√®re":0,"Intense Myst√®re":0,"Cr√©atif¬∑ve Libre":0};

function addScore(cond, keys){ if(cond) keys.forEach(k=>profils[k]++); }

// Q1
addScore(answers.q1==="Florale", ["Doux Confort","Gourmand Sensuel"]);
addScore(answers.q1==="Fruit√©", ["Gourmand Sensuel","Cr√©atif¬∑ve Libre"]);
addScore(answers.q1==="Bois√©", ["Bois√© Caract√®re","Intense Myst√®re"]);
// Q2
addScore(answers.q2==="Printemps", ["Frais Libre","Cr√©atif¬∑ve Libre"]);
addScore(answers.q2==="√ât√©", ["Frais Libre","Gourmand Sensuel"]);
addScore(answers.q2==="Automne", ["Bois√© Caract√®re","Intense Myst√®re"]);
addScore(answers.q2==="Hiver", ["Intense Myst√®re","Doux Confort"]);
// Q3
addScore(answers.q3==="L√©ger", ["Frais Libre","Doux Confort"]);
addScore(answers.q3==="Intense", ["Gourmand Sensuel","Intense Myst√®re"]);
// Q4
addScore(answers.q4==="Tous les jours", ["Frais Libre","Bois√© Caract√®re"]);
addScore(answers.q4==="Souvent", ["Gourmand Sensuel","Cr√©atif¬∑ve Libre"]);
addScore(answers.q4==="Occasionnellement", ["Doux Confort","Frais Libre"]);
addScore(answers.q4==="Rarement", ["Intense Myst√®re","Cr√©atif¬∑ve Libre"]);
// Q5
answers.q5.forEach(v=>{
if(v==="Calme") profils["Frais Libre"]++;
if(v==="Passionn√©¬∑e") profils["Gourmand Sensuel"]++;
if(v==="Myst√©rieux¬∑se") profils["Intense Myst√®re"]++;
if(v==="Doux¬∑ce") profils["Doux Confort"]++;
if(v==="Audacieux¬∑se") profils["Cr√©atif¬∑ve Libre"]++;
if(v==="Ind√©pendant¬∑e") profils["Bois√© Caract√®re"]++;
});
// Q6
addScore(answers.q6==="Nature / air libre", ["Frais Libre"]);
addScore(answers.q6==="Cocooning", ["Doux Confort"]);
addScore(answers.q6==="Nuit", ["Intense Myst√®re"]);
addScore(answers.q6==="√ânergie", ["Gourmand Sensuel"]);
addScore(answers.q6==="Cr√©atif", ["Cr√©atif¬∑ve Libre"]);
// Q7
addScore(answers.q7==="F√©minin", ["Doux Confort"]);
addScore(answers.q7==="Masculin", ["Bois√© Caract√®re"]);
if(["Mixte","√áa d√©pend","Peu importe"].includes(answers.q7)) profils["Cr√©atif¬∑ve Libre"]++;
// Q8
addScore(answers.q8==="Une signature", ["Gourmand Sensuel"]);
addScore(answers.q8==="Extension de ma personnalit√©", ["Frais Libre"]);
addScore(answers.q8==="Un plaisir personnel", ["Doux Confort"]);
addScore(answers.q8==="Un d√©tail important", ["Cr√©atif¬∑ve Libre"]);
addScore(answers.q8==="Une d√©couverte", ["Intense Myst√®re"]);

const sorted = Object.entries(profils).sort((a,b)=>b[1]-a[1]).map(e=>e[0]);
const principal = sorted[0];

const resultDiv = document.getElementById("result");
resultDiv.innerHTML = "";
resultDiv.innerHTML = `<h2>Profil principal : ${principal}</h2><h3>Parfums recommand√©s :</h3>`;

recommandations[principal].forEach((p,i)=>{
const card = document.createElement("div");
card.className="perfume-card";
card.style.backgroundColor = couleurs[principal];
card.innerHTML=`<span class="perfume-emoji">${p.emoji}</span>
<div>
<h3>${p.name} (${p.brand})</h3>
<p>${p.desc}</p>
</div>`;
setTimeout(()=>card.classList.add("show"), i*200);
resultDiv.appendChild(card);
});

resultDiv.style.opacity="1";
});
</script>

</body>
</html>
